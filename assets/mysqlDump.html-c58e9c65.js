import{_ as a,p as s,q as e,a1 as t}from"./framework-5866ffd3.js";const n={},d=t(`<h2 id="一、mysqldump-简介" tabindex="-1"><a class="header-anchor" href="#一、mysqldump-简介" aria-hidden="true">#</a> 一、mysqldump 简介</h2><p>mysqldump 是 MySQL 自带的逻辑备份工具。</p><p>它的备份原理是通过协议连接到 MySQL 数据库，将需要备份的数据查询出来，将查询出的数据转换成对应的insert 语句，当我们需要还原这些数据时，只要执行这些 insert 语句，即可将对应的数据还原。</p><h2 id="二、备份命令" tabindex="-1"><a class="header-anchor" href="#二、备份命令" aria-hidden="true">#</a> 二、备份命令</h2><h3 id="_2-1-命令格式" tabindex="-1"><a class="header-anchor" href="#_2-1-命令格式" aria-hidden="true">#</a> 2.1 命令格式</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 数据库名 <span class="token punctuation">[</span>表名<span class="token punctuation">]</span> <span class="token operator">&gt;</span> 脚本名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> --数据库名 <span class="token punctuation">[</span>选项 表名<span class="token punctuation">]</span> <span class="token operator">&gt;</span> 脚本名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> --all-databases <span class="token punctuation">[</span>选项<span class="token punctuation">]</span>  <span class="token operator">&gt;</span> 脚本名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-2-选项说明" tabindex="-1"><a class="header-anchor" href="#_2-2-选项说明" aria-hidden="true">#</a> 2.2 选项说明</h3><table><thead><tr><th>参数名</th><th>缩写</th><th>含义</th></tr></thead><tbody><tr><td>--host</td><td>-h</td><td>服务器IP地址</td></tr><tr><td>--port</td><td>-P</td><td>服务器端口号</td></tr><tr><td>--user</td><td>-u</td><td>MySQL 用户名</td></tr><tr><td>--pasword</td><td>-p</td><td>MySQL 密码</td></tr><tr><td>--databases</td><td></td><td>指定要备份的数据库</td></tr><tr><td>--all-databases</td><td></td><td>备份mysql服务器上的所有数据库</td></tr><tr><td>--compact</td><td></td><td>压缩模式，产生更少的输出</td></tr><tr><td>--comments</td><td></td><td>添加注释信息</td></tr><tr><td>--complete-insert</td><td></td><td>输出完成的插入语句</td></tr><tr><td>--lock-tables</td><td></td><td>备份前，锁定所有数据库表</td></tr><tr><td>--no-create-db/--no-create-info</td><td></td><td>禁止生成创建数据库语句</td></tr><tr><td>--force</td><td></td><td>当出现错误时仍然继续备份操作</td></tr><tr><td>--default-character-set</td><td></td><td>指定默认字符集</td></tr><tr><td>--add-locks</td><td></td><td>备份数据库表时锁定数据库表</td></tr></tbody></table><h3 id="_2-3-实例" tabindex="-1"><a class="header-anchor" href="#_2-3-实例" aria-hidden="true">#</a> 2.3 实例</h3><p>备份所有数据库：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span> --all-databases <span class="token operator">&gt;</span> /backup/mysqldump/all.db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>备份指定数据库：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span> <span class="token builtin class-name">test</span> <span class="token operator">&gt;</span> /backup/mysqldump/test.db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>备份指定数据库指定表(多个表以空格间隔)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>  mysql db event <span class="token operator">&gt;</span> /backup/mysqldump/2table.db

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>备份指定数据库排除某些表</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span> <span class="token builtin class-name">test</span> --ignore-table<span class="token operator">=</span>test.t1 --ignore-table<span class="token operator">=</span>test.t2 <span class="token operator">&gt;</span> /backup/mysqldump/test2.db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="三、还原命令" tabindex="-1"><a class="header-anchor" href="#三、还原命令" aria-hidden="true">#</a> 三、还原命令</h2><h3 id="_3-1-系统行命令" tabindex="-1"><a class="header-anchor" href="#_3-1-系统行命令" aria-hidden="true">#</a> 3.1 系统行命令</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqladmin <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span> create db_name
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>  db_name <span class="token operator">&lt;</span> /backup/mysqldump/db_name.db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>注：在导入备份数据库前，db_name如果没有，是需要创建的； 而且与db_name.db中数据库名是一样的才可以导入。</p><h3 id="_3-2-soure-方法" tabindex="-1"><a class="header-anchor" href="#_3-2-soure-方法" aria-hidden="true">#</a> 3.2 soure 方法</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token operator">&gt;</span> use db_name
mysql <span class="token operator">&gt;</span> <span class="token builtin class-name">source</span> /backup/mysqldump/db_name.db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、示例语句" tabindex="-1"><a class="header-anchor" href="#四、示例语句" aria-hidden="true">#</a> 四、示例语句</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqldump <span class="token parameter variable">--opt</span> sdkv <span class="token parameter variable">-hweb</span> <span class="token parameter variable">-uweb</span> -p<span class="token string">&#39;zanalytics&#39;</span> <span class="token operator">&gt;</span> ./sdkv.db
mysqldump <span class="token parameter variable">--opt</span> hive <span class="token parameter variable">-hweb</span> <span class="token parameter variable">-uweb</span> -p<span class="token string">&#39;zhugeio&#39;</span> <span class="token operator">&gt;</span> ./hive.db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,29),r=[d];function l(p,i){return s(),e("div",null,r)}const o=a(n,[["render",l],["__file","mysqlDump.html.vue"]]);export{o as default};
